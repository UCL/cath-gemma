######################################################
# RUNNING GEMMA ON THE CS BCHUCKLE CLUSTER
######################################################

$ cd /cath/people2/ucbtdas/GeMMA/

# copy over base directory structures required

$ rsync -av /cath/people2/ucbtnld/projects/GeMMA/dfx_base/ /cath/people2/ucbtdas/GeMMA/dfx_cath1/
$ rsync -av /cath/people2/ucbtnld/projects/GeMMA/dfx_base_data/ /cath/people2/ucbtdas/GeMMA/dfx_cath1_data/

# rename the sub-folder PROJECT_NAME to your project name

$ mv /cath/people2/ucbtdas/GeMMA/dfx_cath1/projects/PROJECT_NAME/ /cath/people2/ucbtdas/GeMMA/dfx_cath1/projects/cath1/
$ mv /cath/people2/ucbtdas/GeMMA/dfx_cath1_data/projects/PROJECT_NAME/ /cath/people2/ucbtdas/GeMMA/dfx_cath1_data/projects/cath1/

# Delete the prototype superfamily folder SUPERFAMILY_NAME and Copy the required superfamily starting clusters to the data directory

$ rm -r /cath/people2/ucbtdas/GeMMA/dfx_cath1_data/projects/cath1/starting_clusters/SUPERFAMILY_ID/
$ rsync -av /cath/people2/ucbcdal/dfx_funfam2013_data/projects/gene3d_12/starting_clusters/1.10.150.120/*.faa /cath/people2/ucbtdas/GeMMA/dfx_cath1_data/projects/cath1/starting_clusters/1.10.150.120/

# Make a list of superfamilies that are run and a list with superfamily sizes
# superfamilies.list
# superfamilies.sizes

$ echo 1.10.150.120 > /cath/people2/ucbtdas/GeMMA/dfx_cath1_data/projects/cath1/superfamilies.list
$ cp /cath/people2/ucbtdas/GeMMA/dfx_cath1_data/projects/cath1/superfamilies.list /cath/people2/ucbtdas/GeMMA/dfx_cath1/projects/cath1/

# make a tab-separated file /cath/people2/ucbtdas/GeMMA/dfx_cath1_data/projects/cath1/superfamilies.sizes having the following fields
# Superfamily 1.10.150.120 has 437 sequences in all faa files

$ echo "1.10.150.120\t437" > /cath/people2/ucbtdas/GeMMA/dfx_cath1_data/projects/cath1/superfamilies.sizes
$ cp /cath/people2/ucbtdas/GeMMA/dfx_cath1_data/projects/cath1/superfamilies.sizes /cath/people2/ucbtdas/GeMMA/dfx_cath1/projects/cath1/

# change usernames in /cath/people2/ucbtdas/GeMMA/dfx_cath1/pipeline.config
# change the cluster directory as well

# cd to the folder dfx_cath1/ in the cluster directory
$ perl dfx.pl run cath1 cluster

expected response:
Use of uninitialized value $local_user_name in concatenation (.) or string at dfx.pl line 123.
Use of uninitialized value $local_ssh_target_node in concatenation (.) or string at dfx.pl line 123.
nohup: redirecting stderr to stdout

# Running 'ps waux | grep perl' also lets you know how many instances of dfx.pl are running.
